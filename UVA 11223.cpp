#include <bits/stdc++.h>
using namespace std;
int c[1000000];

void init()
{
    c[12] = 'A';    c[2111] = 'B';    c[2121] = 'C';    c[211] = 'D';    c[1] = 'E';    c[1121] = 'F';    c[221] = 'G';    c[1111] = 'H';
    c[11] = 'I';    c[1222] = 'J';    c[212] = 'K';    c[1211] = 'L';    c[22] = 'M';    c[21] = 'N';    c[222] = 'O';    c[1221] = 'P';    c[2212] = 'Q';
    c[121] = 'R';   c[111] = 'S';    c[2] = 'T';    c[112] = 'U';    c[1112] = 'V';    c[122] = 'W';    c[2112] = 'X';    c[2122] = 'Y';    c[2211] = 'Z';
    c[22222] = '0'; c[12222] = '1';     c[11222] = '2'; c[11122] = '3'; c[11112] = '4'; c[11111] = '5'; c[21111] = '6';    c[22111] = '7'; c[22211] = '8';
    c[22221] = '9'; c[121212] = '.';    c[221122] = ','; c[112211] = '?'; c[122221] = '\''; c[212122] = '!'; c[21121] = '/'; c[21221] = '('; c[212212] = ')';
    c[12111] = '&'; c[222111] = ':';    c[212121] = ';'; c[21112] = '=';    c[12121] = '+'; c[211112] = '-'; c[112212] = '_';   c[121121] = '\"'; c[122121] = '@';
}
int main ()
{
    init();
    int t, k = 1;
    string s;
    cin >> t;
    cin.ignore();
    while (t--){
        getline(cin, s);
        if (k != 1)
            cout << endl;
        cout << "Message #" << k++ << endl;
        for (int i = 0; i < s.size(); i++){
            int num = 0;
            while (s[i] != 32 && i != s.size()){
                if (s[i] == '.')
                    num += 1;
                if (s[i] == '-')
                    num += 2;
                num *= 10;
                ++i;
            }
            num /= 10;
            printf("%c", c[num]);
            if (s[i+1] == ' '){
                cout << " ";
                ++i;
            }
        }
        cout << endl;
    }
    return 0;
}
